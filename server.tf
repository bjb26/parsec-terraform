#server.tf
##################################################################################
# VARIABLES
##################################################################################


##################################################################################
# PROVIDERS
##################################################################################

provider "aws" {
  region                  = "eu-west-1"
  shared_credentials_file = "/Users/boltonb/.aws/credentials"
  profile                 = "boltonb"
}

##################################################################################
# RESOURCES
##################################################################################

resource "aws_spot_instance_request" "parsec" {
  ami           = "ami-ab0ff9d2"
  spot_price    = "0.30"
  instance_type = "g2.2xlarge"
  security_groups = ["launch-wizard-1"]
  user_data = "${file("/Users/boltonb/Code/terraform/userdata.txt")}"
}

##################################################################################
# OUTPUT
##################################################################################
